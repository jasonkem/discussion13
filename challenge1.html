<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" type="text/css" href="css/challenges.css">
  <title>JS Challenge #1</title>
</head>
<body>
    <main>
      <h1 class="heading">Challenge One</h1>
      <form action="challenge2.html">
        <fieldset>
          <legend>Email subscriptions</legend>
          <div id="check">
            <label>
              <input type="checkbox" name="subscribe" id="toggle">
              Check to toggle the email field.
            </label>
          </div>

          <div id="emailBox" class="hidden">
            <label>
              Email Address:
              <input type="text" name="email" id="email_input">
            </label>
          </div>

          <input type="submit" value="Go To Challenge 2">
        </fieldset>
      </form>
  </main>

  <script>
    // Function to format the time string
    function formatTime(date) {
        let hours = date.getHours();
        let minutes = date.getMinutes().toString().padStart(2, '0');
        let seconds = date.getSeconds().toString().padStart(2, '0');
        return hours + ":" + minutes + ":" + seconds;
    }

    // Event listener for double clicks on the page
    document.addEventListener('dblclick', function() {
        const currentTime = new Date(); // Gets the current date and time
        alert("Current time is: " + formatTime(currentTime));
    });

    // Toggle email field based on checkbox
    document.addEventListener('DOMContentLoaded', function() {
      function toggleEmailField() {
        var checkbox = document.getElementById('toggle');
        var emailBox = document.getElementById('emailBox');
        if (checkbox.checked) {
          emailBox.classList.remove('hidden');
        } else {
          emailBox.classList.add('hidden');
        }
      }

      document.getElementById('toggle').addEventListener('change', toggleEmailField);
      toggleEmailField(); // For initial load
    });
  </script>

</body>
</html>
